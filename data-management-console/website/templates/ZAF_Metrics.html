<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>South Africa metrics</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js" type="text/javascript"></script>
</head>
<body>
<h1>Key aggregated metrics for South Africa</h1>
<TABLE>
<TR><TD>
<TABLE>
<TR><TD style="width:65%"><canvas id="rep_area_chart" style="min-height:200px;max-height:200px;max-width:400px"></canvas></TD>
<TD><canvas id="gis_area_chart" style="min-height:200px;max-height:200px;max-width:400px"></canvas></TD></TR>

<TR><TD><canvas id="rep_m_area_chart" style="min-height:200px;max-height:200px;max-width:400px"></canvas></TD>
<TD><canvas id="gis_m_area_chart" style="min-height:200px;max-height:200px;max-width:400px"></canvas></TD></TR>

<TR><TD><canvas id="no_tk_chart" style="min-height:200px;max-height:200px;max-width:400px"></canvas></TD><TD></TD></TR>
</TABLE>
</TD><TD style="width:35%">
<TABLE border="2" align="center">
    <TR><TH>Year</TH><TH>Added</TH><TH>Deleted</TH><TH>Updated</TH></TH></TR>
{% for historical_change in historical_changes %}
 <TR><TD>{{ historical_change[0] }}</TD>
     <TD>{{ historical_change[1] }}</TD>
     <TD>{{ historical_change[2] }}</TD>
     <TD>{{ historical_change[3] }}</TD>
 </TR>
{% endfor %}
</TABLE>
<p><p>
Notes:<ul>
    <li>Data sets received in 2018, 2020 and 2022.  Figures for 2019, 2021 and 2023 are therefore the same as the directly prior dataset provided</li>
    <li>This shows the values without any historic edits (we don't know those for these opening data sets)</li>
    <li>Going forward, it will be possible to display this report with or without historical edits (the former case gives us correct answers, the latter allows the user to reproduce what they saw when they looked, in the past</li>
</ul>
</TD></TR></TABLE>
</p></p>
<script>
const xValues = {{ years }};

new Chart("rep_area_chart", {
  type: "bar",
  data: {
    labels: xValues,
    datasets: [{
      data: {{ rep_area }},
      backgroundColor: "red",
      label: "{{ rep_area_name }}",
      fill: false
    }]
  },
  options: {
    legend: {display: true},
    elements: {
        line: {
            tension: 0
        }
    }
  }
});

new Chart("gis_area_chart", {
  type: "bar",
  data: {
    labels: xValues,
    datasets: [{
      data: {{ gis_area }},
      backgroundColor: "green",
      label: "{{ gis_area_name }}",
      fill: false
    },]
  },
  options: {
    legend: {display: true},
    elements: {
        line: {
            tension: 0
        }
    }
  }
});

new Chart("rep_m_area_chart", {
  type: "bar",
  data: {
    labels: xValues,
    datasets: [{
      data: {{ rep_m_area }},
      backgroundColor: "blue",
      label: "{{ rep_m_area_name }}",
      fill: false
    }]
  },
  options: {
    legend: {display: true},
    elements: {
        line: {
            tension: 0
        }
    }
  }
});

new Chart("gis_m_area_chart", {
  type: "bar",
  data: {
    labels: xValues,
    datasets: [{
      data: {{ gis_m_area }},
      backgroundColor: "violet",
      label: "{{ gis_m_area_name }}",
      fill: false
    }]
  },
  options: {
    legend: {display: true},
    elements: {
        line: {
            tension: 0
        }
    }
  }
});
new Chart("no_tk_chart", {
  type: "bar",
  data: {
    labels: xValues,
    datasets: [{
      data: {{ no_tk_area }},
      backgroundColor: "orange",
      label: "{{ no_tk_area_name }}",
      fill: false
    }]
  },
  options: {
    legend: {display: true},
    elements: {
        line: {
            tension: 0
        }
    }
  }
});

</script>
<br><br><div><a href="index">Back to Main Index</a>
</body>
</html>